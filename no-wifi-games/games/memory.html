<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è®°å¿†ç¿»ç‰Œ</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #1a1a2e;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      min-height: 100vh;
      color: white;
    }
    h1 { font-size: 1.5rem; margin-bottom: 10px; }
    .info { display: flex; gap: 30px; margin-bottom: 15px; }
    .game-board {
      display: grid;
      grid-template-columns: repeat(4, 70px);
      gap: 10px;
    }
    .card {
      width: 70px; height: 70px;
      background: linear-gradient(135deg, #4a4a6e 0%, #3a3a5e 100%);
      border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      font-size: 2rem; cursor: pointer;
      transition: transform 0.3s, background 0.3s;
      user-select: none;
      border: 2px solid #5a5a7e;
    }
    .card:hover:not(.flipped):not(.matched) { transform: scale(1.05); background: #5a5a7e; }
    .card.flipped, .card.matched { background: #2a2a4e; border-color: #4CAF50; transform: rotateY(180deg); }
    .card.matched { border-color: #ffeb3b; opacity: 0.7; }
    .card .front { display: none; }
    .card.flipped .front, .card.matched .front { display: block; }
    .card.flipped .back, .card.matched .back { display: none; }
    .btn { margin-top: 20px; padding: 12px 30px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #45a049; }
    .back-link { margin-top: 15px; color: #888; text-decoration: none; }
    @media (max-width: 350px) {
      .game-board { grid-template-columns: repeat(4, 60px); }
      .card { width: 60px; height: 60px; font-size: 1.5rem; }
    }
  </style>
</head>
<body>
  <h1>ğŸ´ è®°å¿†ç¿»ç‰Œ</h1>
  <div class="info">
    <span>æ­¥æ•°: <strong id="moves">0</strong></span>
    <span>æ—¶é—´: <strong id="time">0</strong>s</span>
  </div>
  <div class="game-board" id="board"></div>
  <button class="btn" onclick="initGame()">æ–°æ¸¸æˆ</button>
  <a href="index.html" class="back-link">â† è¿”å›æ¸¸æˆåˆ—è¡¨</a>

  <script>
    // ç¦æ­¢é•¿æŒ‰å¤åˆ¶èœå•
    document.addEventListener('contextmenu', e => e.preventDefault());
    const emojis = ['ğŸ¶', 'ğŸ±', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ¦Š', 'ğŸ»', 'ğŸ¼'];
    let cards = [], flipped = [], matched = 0, moves = 0, timer = 0, interval = null, locked = false;

    function initGame() {
      const board = document.getElementById('board');
      board.innerHTML = '';
      cards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
      flipped = []; matched = 0; moves = 0; timer = 0; locked = false;
      clearInterval(interval);
      document.getElementById('moves').textContent = '0';
      document.getElementById('time').textContent = '0';
      
      cards.forEach((emoji, i) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `<span class="back">â“</span><span class="front">${emoji}</span>`;
        card.onclick = () => flipCard(i, card);
        board.appendChild(card);
      });
      
      interval = setInterval(() => {
        timer++;
        document.getElementById('time').textContent = timer;
      }, 1000);
    }

    function flipCard(index, card) {
      if (locked || card.classList.contains('flipped') || card.classList.contains('matched')) return;
      
      card.classList.add('flipped');
      flipped.push({ index, emoji: cards[index], element: card });
      
      if (flipped.length === 2) {
        moves++;
        document.getElementById('moves').textContent = moves;
        locked = true;
        
        if (flipped[0].emoji === flipped[1].emoji) {
          setTimeout(() => {
            flipped[0].element.classList.add('matched');
            flipped[1].element.classList.add('matched');
            flipped = [];
            locked = false;
            matched++;
            if (matched === emojis.length) {
              clearInterval(interval);
              setTimeout(() => alert(`ğŸ‰ æ­å–œå®Œæˆï¼\næ­¥æ•°: ${moves}\næ—¶é—´: ${timer}ç§’`), 300);
            }
          }, 500);
        } else {
          setTimeout(() => {
            flipped[0].element.classList.remove('flipped');
            flipped[1].element.classList.remove('flipped');
            flipped = [];
            locked = false;
          }, 1000);
        }
      }
    }

    initGame();
  </script>
</body>
</html>
